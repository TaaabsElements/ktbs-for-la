<link rel="import" href="./css/ktbs-for-la-style.html">
<link rel="import" href="../taaabs-themes/taaabs-theme.html">

<link rel="import" href="../app-localize-behavior/app-localize-behavior.html">
<link rel="import" href="../taaabs-taaabs/taaabs-taaabs.html">
<link rel="import" href="../taaabs-resource-loader/taaabs-resource-loader.html">
<link rel="import" href="../taaabs-trace-details-container/taaabs-trace-details-container.html">

<dom-module id="kfl-trace-details">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <taaabs-resource-loader style="width: 100%; height: 100%" resources={{shared_resources}} is-loading={{shared_loading_resources_status}} loading-list={{shared_loading_resources}}>
      <taaabs-trace-details-container id="trace-details-container" trace-url="[[traceUrl]]" language="[[language]]" taaabs-central-loading>
      </taaabs-trace-details-container>
    </taaabs-resource-loader>
  </template>
  <script>
    Polymer({
      is: 'kfl-trace-details',

      properties: {

        /**
         * Url of the trace.
         *
         * @attribute traceUrl
         * @type String
         */
        traceUrl: {
         type: String,
        },

        /**
         * i18n.
         *
         * @attribute language
         * @type String
         */
        language: {
         type: String,
         value: 'fr'
        }
      },

      behaviors: [
        Polymer.AppLocalizeBehavior
      ],

      attached: function(){
        // Load i18n json.
        this.loadResources(this.resolveUrl('./languages/locales.json'));
      },

      refresh: function(){
        this.$['trace-details-container'].refresh();
      }
    });
  </script>
</dom-module>
